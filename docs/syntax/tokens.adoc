---
layout: default
title: Tokens
parent: Language Syntax
nav_order: 3
---

== Tokens

Understanding PostScript's lexical structure and token types.

=== Overview

A **token** is the basic lexical unit of PostScript syntax. The PostScript scanner recognizes several types of tokens, each with specific syntax rules.

=== Token Types

==== Numbers

**Integer Numbers**:

[source,postscript]
----
42          % Decimal integer
-17         % Negative integer
0           % Zero
+100        % Positive sign optional
----

**Real (Floating-Point) Numbers**:

[source,postscript]
----
3.14        % Real with decimal point
-0.5        % Negative real
.25         % Leading decimal point optional
6.02e23     % Scientific notation
1.0E-10     % Exponent can be E or e
----

**Radix Numbers** (Base 2-36):

[source,postscript]
----
8#177       % Octal: 127 decimal
16#FF       % Hexadecimal: 255 decimal
2#1010      % Binary: 10 decimal
----

==== Names

Names are identifiers that can be used literally or as executable objects.

**Literal Names** (preceded by `/`):

[source,postscript]
----
/Times-Roman   % Font name
/x             % Variable name
/myproc        % Procedure name
----

**Executable Names** (no `/` prefix):

[source,postscript]
----
add            % Operator
moveto         % Command
myvar          % User-defined name
----

**Immediately Evaluated Names** (preceded by `//`):

[source,postscript]
----
//add          % Bind to current definition
//gsave        % Level 2+
----

==== Strings

**Regular Strings** (parentheses):

[source,postscript]
----
(Hello, World!)              % Simple string
(String with (nested) parens)  % Balanced parens
(Line 1\nLine 2)            % Escape sequences
(Tab\there)                  % Tab character
----

**Hexadecimal Strings** (angle brackets):

[source,postscript]
----
<48656C6C6F>    % "Hello" in hex
<4142>          % "AB"
----

==== Arrays

**Literal Arrays**:

[source,postscript]
----
[1 2 3]                    % Integer array
[/name 42 (text)]          % Mixed types
[]                         % Empty array
----

**Procedures** (executable arrays):

[source,postscript]
----
{ add }                    % Simple procedure
{ dup mul }                % Multiple operations
{                          % Multi-line procedure
  gsave
  0.5 setgray
  fill
  grestore
}
----

==== Dictionaries

**Dictionary Literals**:

[source,postscript]
----
<< /key1 value1 /key2 value2 >>   % Dictionary syntax (Level 2+)
----

**Dictionary Construction** (Level 1):

[source,postscript]
----
5 dict begin
  /key1 value1 def
  /key2 value2 def
end
----

==== Special Tokens

**Marks**:

[source,postscript]
----
mark            % Push mark on stack
[               % Equivalent to mark
----

**Booleans**:

[source,postscript]
----
true            % Boolean true
false           % Boolean false
----

**Null**:

[source,postscript]
----
null            % Null object
----

=== Escape Sequences in Strings

[cols="1,3"]
|===
| Sequence | Meaning

| `\n`
| Newline (line feed)

| `\r`
| Carriage return

| `\t`
| Horizontal tab

| `\b`
| Backspace

| `\f`
| Form feed

| `\\`
| Backslash

| `\(`
| Left parenthesis

| `\)`
| Right parenthesis

| `\ddd`
| Octal character code (1-3 digits)
|===

=== Comments

**Single-Line Comments**:

[source,postscript]
----
% This is a comment
42 % Comment after code
----

**Document Structure Comments** (DSC):

[source,postscript]
----
%%Title: My Document
%%Creator: PostScript Guide
%%Pages: 10
----

=== Whitespace

**Whitespace Characters**:

* Space (ASCII 32)
* Tab (ASCII 9)
* Newline (ASCII 10)
* Carriage return (ASCII 13)
* Form feed (ASCII 12)
* Null (ASCII 0)

Whitespace separates tokens but is otherwise ignored.

=== Token Delimiters

**Delimiter Characters**:

[source]
----
( ) < > [ ] { } / %
----

These characters terminate tokens and have special meaning.

=== Name Syntax Rules

**Valid Characters in Names**:

* Any printable ASCII character except delimiters
* Special characters: `!` `"` `#` `$` `&` `'` `*` `,` `.` `:` `;` `=` `?` `@` `^` `_` `` ` `` `|` `~`

**Invalid in Names**:

* Whitespace
* Delimiter characters: `( ) < > [ ] { } / %`

=== Token Parsing

The link:/commands/references/token/[`token`] operator can be used to parse tokens from strings or files:

[source,postscript]
----
(42 /name) token   % Returns: 42 ( /name) true
(  ) token         % Returns: false (no tokens)
----

=== Common Patterns

==== Parsing Input

[source,postscript]
----
currentfile token {
  % Process token on stack
} if
----

==== String to Number

[source,postscript]
----
(3.14) cvr     % Convert string to real: 3.14
(42) cvi       % Convert string to integer: 42
----

==== Building Names Dynamically

[source,postscript]
----
(myname) cvn   % Convert string to name: /myname
----

=== Best Practices

TIP: *Use Meaningful Names* - Choose descriptive names for procedures and variables.

TIP: *Comment Complex Code* - Use comments to explain non-obvious logic.

TIP: *Consistent Formatting* - Use consistent indentation and spacing for readability.

WARNING: *Name Length Limits* - While PostScript supports long names, keep them reasonable for maintainability.

=== See Also

* link:/syntax/strings/[Strings]
* link:/syntax/arrays/[Arrays]
* link:/syntax/dictionaries/[Dictionaries]
* link:/syntax/data-types/[Data Types]
* link:/commands/references/token/[token command]
