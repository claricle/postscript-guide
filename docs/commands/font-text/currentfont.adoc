---
layout: default
title: currentfont
parent: "Font and Text"
grand_parent: "Command Reference"
nav_order: 5
---

== currentfont

Get current font dictionary from graphics state.

=== Syntax

----
- currentfont â†’ font
----

=== Stack Effects

**Before:**
```
(empty)
```

**After:**
```
font
```

=== Description

xref:../currentfont.adoc[`currentfont`] returns the current font dictionary in the graphics state. Normally, this is the font most recently established by xref:../setfont.adoc[`setfont`] or `selectfont`.

However, when executed inside a font's `BuildGlyph` or `BuildChar` procedure or a procedure invoked by xref:../cshow.adoc[`cshow`], xref:../currentfont.adoc[`currentfont`] returns the currently selected base font (descendant of a composite font).

=== Returns

**font** (`dictionary`)
: The current font dictionary from the graphics state

=== Examples

==== Querying Current Font

[source,postscript]
----
/Helvetica findfont 12 scalefont setfont
currentfont
% Returns the scaled Helvetica font dictionary
----

==== Saving and Restoring Font

[source,postscript]
----
% Save current font
currentfont /savedFont exch def

% Change font for temporary use
/Times-Roman findfont 10 scalefont setfont
100 100 moveto (Times text) show

% Restore original font
savedFont setfont
100 80 moveto (Original font) show
----

==== Font Information Inspection

[source,postscript]
----
currentfont
dup /FontName get == % Print font name
dup /FontMatrix get == % Print font matrix
dup /FontType get == % Print font type
pop
----

==== Conditional Font Checking

[source,postscript]
----
% Check if a specific font is current
currentfont /FontName get
/Helvetica eq {
  (Using Helvetica) =
} {
  (Using other font) =
} ifelse
----

=== Errors

**stackoverflow**
: If the operand stack would overflow

=== Behavior with Composite Fonts

When xref:../currentfont.adoc[`currentfont`] is called during font construction:

**In BuildGlyph/BuildChar procedures:**
: Returns the base font selected by the composite font machinery

**In xref:../cshow.adoc[`cshow`] procedure:**
: Returns the base font for the current character

**Normal context:**
: Returns the top-level font set by xref:../setfont.adoc[`setfont`]

To get the top-level composite font from within these procedures, use `rootfont` instead.

=== Font Dictionary Contents

The returned font dictionary typically contains:

[source,postscript]
----
% Example font dictionary structure
<<
  /FontType 1
  /FontName /Helvetica
  /FontMatrix [0.001 0 0 0.001 0 0]
  /FontBBox [-166 -225 1000 931]
  /Encoding StandardEncoding
  /PaintType 0
  /CharStrings <CharStrings dictionary>
  /FID <fontID>
>>
----

=== Use Cases

==== Dynamic Font Switching

[source,postscript]
----
% Switch between normal and bold
/toggleBold {
  currentfont /FontName get
  dup /Helvetica eq {
    pop /Helvetica-Bold
  } {
    /Helvetica-BoldOblique eq {
      /Helvetica-Oblique
    } {
      /Helvetica
    } ifelse
  } ifelse
  findfont 12 scalefont setfont
} def
----

==== Font Size Adjustment

[source,postscript]
----
% Scale current font by a factor
/scaleCurrent {  % factor scaleCurrent -
  currentfont
  exch scalefont
  setfont
} def

% Use it:
1.5 scaleCurrent  % Make current font 50% larger
----

=== See Also

- xref:../setfont.adoc[`setfont`] - Establish current font
- xref:../findfont.adoc[`findfont`] - Obtain font dictionary by name
- xref:../scalefont.adoc[`scalefont`] - Scale font by uniform factor
- xref:../makefont.adoc[`makefont`] - Transform font by matrix
- `rootfont` - Get root font of composite font
- xref:../cshow.adoc[`cshow`] - Show with procedure per character