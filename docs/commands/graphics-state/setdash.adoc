---
layout: default
title: setdash
parent: Graphics State
grand_parent: Command Reference
nav_order: 13
---

== setdash

Sets the dash pattern for stroking operations.

=== Syntax

----
array offset setdash → –
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 1
| `array` (dash pattern array)

| 0
| `offset` (dash offset value)
|===

.After
[cols="1,3"]
|===
| Level | Object

| (empty)
| Dash pattern parameter set
|===

=== Description

[`setdash`](setdash.adoc) sets the dash pattern parameter in the graphics state. This controls the pattern of dashes and gaps used by subsequent [`stroke`] operations.

The **array** specifies the pattern:

* **Empty `[]`**: Solid line (no dashing)
* **One element `[a]`**: Alternating a-unit dashes and a-unit gaps
* **Two elements `[a b]`**: a-unit dashes, b-unit gaps (repeating)
* **Multiple elements**: Sequence repeats: dash, gap, dash, gap...

The **offset** specifies how far into the pattern to start (in user space units).

The dash pattern is interpreted in user space and is unaffected by transformations applied after [`setdash`](setdash.adoc) is called.

=== PostScript Level

*Level 1* and later

=== Examples

.Solid line (no dash)
[source,postscript]
----
[] 0 setdash
0 0 moveto 100 0 lineto stroke  % Solid line
----

.Simple dash pattern
[source,postscript]
----
[3] 0 setdash
0 0 moveto 100 0 lineto stroke  % 3 on, 3 off, repeating
----

.Dash with gap
[source,postscript]
----
[5 3] 0 setdash
0 0 moveto 100 0 lineto stroke  % 5 on, 3 off, repeating
----

.Dash-dot pattern
[source,postscript]
----
[10 3 2 3] 0 setdash
0 0 moveto 100 0 lineto stroke  % 10 on, 3 off, 2 on, 3 off
----

.Using offset
[source,postscript]
----
[6 3] 0 setdash
0 10 moveto 100 10 lineto stroke

[6 3] 3 setdash  % Start 3 units into pattern
0 20 moveto 100 20 lineto stroke
----

=== Common Use Cases

==== Standard Dash Patterns

[source,postscript]
----
% Dashed line
[6 3] 0 setdash

% Dotted line
[2 2] 0 setdash

% Dash-dot
[10 3 2 3] 0 setdash

% Dash-dot-dot
[10 3 2 3 2 3] 0 setdash

% Long dash, short dash
[12 3 3 3] 0 setdash
----

==== Technical Drawing Styles

[source,postscript]
----
/HiddenLine {
  [3 2] 0 setdash
  0.5 setlinewidth
} def

/CenterLine {
  [20 5 5 5] 0 setdash
  0.5 setlinewidth
} def

/PhantomLine {
  [20 5 5 5 5 5] 0 setdash
  0.5 setlinewidth
} def
----

==== Border Patterns

[source,postscript]
----
/DashedBorder {
  gsave
    [5 5] 0 setdash
    2 setlinewidth
    0 0 moveto
    pageWidth 0 lineto
    pageWidth pageHeight lineto
    0 pageHeight lineto
    closepath stroke
  grestore
} def
----

==== Animated Dash Patterns

[source,postscript]
----
/AnimatedDash {
  % offset parameter
  [10 5] exch setdash
} def

% Create animation by varying offset
0 5 30 {
  AnimatedDash
  drawPath stroke
  0 10 translate
} for
----

=== Common Pitfalls

WARNING: *Line Caps Affect Dashes* - Each dash is treated with the current line cap style.

[source,postscript]
----
1 setlinecap     % Round caps
[5 3] 0 setdash
% Dashes will have round ends
----

WARNING: *Pattern in User Space* - Scaling affects dash appearance.

[source,postscript]
----
[3 3] 0 setdash
2 2 scale
% Dashes now appear 6 units (in device space)
----

WARNING: *Empty Array Means Solid* - Use `[] 0` to turn off dashing.

[source,postscript]
----
[3 3] 0 setdash  % Dashed
[] 0 setdash      % Back to solid
----

WARNING: *Offset Wraps Around* - Offset values wrap through the pattern.

[source,postscript]
----
[6 3] 0 setdash   % Start at beginning
[6 3] 9 setdash   % Same as offset 0 (9 = 6+3)
[6 3] 15 setdash  % Same again (15 = pattern length × 1 + 6)
----

TIP: *Use Round Caps for Dots* - Combine round caps with short dashes for perfect dots.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`limitcheck`]
| Too many elements in array

| [`rangecheck`]
| Array contains negative values

| [`stackunderflow`]
| Fewer than 2 operands on stack

| [`typecheck`]
| First operand not an array, or second not a number
|===

=== Implementation Notes

* Pattern repeats cyclically
* Dash lengths in user space units
* Applied at stroke time (CTM matters then, not at setdash)
* Zero-length dash/gap elements allowed
* Odd number of array elements: pattern doubles
* Very fast parameter setting

=== Dash Pattern Interpretation

The dash pattern is applied along the path:

[source]
----
Pattern: [10 5]
Offset: 0

Path: ──────────     ──────────     ──────────
      └─10 units┘ 5  └─10 units┘ 5  └─10 units┘

Pattern: [10 5]
Offset: 5

Path:      ──────────     ──────────     ──────
      └5┘  └─10 units┘ 5  └─10 units┘ 5  └─10...
----

=== Odd Number of Elements

If array has odd number of elements, pattern is used twice:

[source,postscript]
----
[3 5 2] 0 setdash
% Equivalent to:
[3 5 2 3 5 2] 0 setdash
% Pattern: 3 on, 5 off, 2 on, 3 off, 5 on, 2 off
----

=== Corner Handling

[source,postscript]
----
% Dashes don't coordinate with corners
[10 5] 0 setdash
0 0 moveto
100 0 lineto
100 100 lineto  % Corner may fall in dash or gap
stroke
----

=== See Also

* xref:currentdash.adoc[`currentdash`] - Get current dash pattern
* xref:setlinecap.adoc[`setlinecap`] - Set line end style
* xref:setlinewidth.adoc[`setlinewidth`] - Set line width
* xref:setlinejoin.adoc[`setlinejoin`] - Set corner style
