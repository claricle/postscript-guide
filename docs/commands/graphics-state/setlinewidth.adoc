---
layout: default
title: setlinewidth
parent: Graphics State
grand_parent: Command Reference
nav_order: 4
---

== setlinewidth

Sets the line width for stroking operations.

=== Syntax

----
num setlinewidth → –
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 0
| `num` (line width in user space units)
|===

.After
[cols="1,3"]
|===
| Level | Object

| (empty)
| Line width parameter set
|===

=== Description

xref:../setlinewidth.adoc[`setlinewidth`] sets the line width parameter in the graphics state to _num_. This controls the thickness of lines rendered by subsequent [`stroke`] operations.

The line width is measured in user space units. The actual rendered width in device space depends on the current transformation matrix (CTM).

* **Zero width**: Thinnest line possible (1 device pixel)
* **Negative width**: Absolute value used

=== PostScript Level

*Level 1* and later

=== Examples

.Different line widths
[source,postscript]
----
1 setlinewidth
0 0 moveto 100 0 lineto stroke  % 1-unit line

5 setlinewidth
0 10 moveto 100 10 lineto stroke  % 5-unit line

0.5 setlinewidth
0 20 moveto 100 20 lineto stroke  % Half-unit line
----

.Zero-width lines
[source,postscript]
----
0 setlinewidth
0 0 moveto 100 100 lineto stroke  % Thinnest possible
----

.Hairline drawing
[source,postscript]
----
gsave
  0.1 setlinewidth  % Very thin
  drawDetailedIllustration
grestore
----

=== Common Use Cases

==== Standard Line Widths

[source,postscript]
----
% Typical widths for different purposes
0.25 setlinewidth  % Fine details
1 setlinewidth     % Normal lines
2 setlinewidth     % Emphasis
5 setlinewidth     % Bold/headers
----

==== Scaling-Independent Width

[source,postscript]
----
% Width in points regardless of scaling
72 div setlinewidth  % 1 point = 1/72 inch
----

==== Variable Width Drawing

[source,postscript]
----
1 1 10 {
  dup setlinewidth
  0 0 moveto 100 0 lineto stroke
  0 15 translate
} for
----

=== Common Pitfalls

WARNING: *Affected by CTM* - Line width is in user space, transformed to device space.

[source,postscript]
----
1 setlinewidth
2 2 scale
% Lines now 2 units wide in device space
stroke
----

WARNING: *Non-Uniform Scaling* - Different x/y scaling produces variable width.

[source,postscript]
----
2 1 scale  % Scale x more than y
1 setlinewidth
% Horizontal lines thicker than vertical
----

WARNING: *Zero Width Caution* - Device-dependent, may be invisible on high-res devices.

[source,postscript]
----
0 setlinewidth  % 1 pixel - invisible on 2400dpi!
----

TIP: *Use Absolute Units* - For consistent output, use point measurements:

[source,postscript]
----
1 72 div setlinewidth  % 1 point
----

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`stackunderflow`]
| No operand on stack

| [`typecheck`]
| Operand not a number
|===

=== Implementation Notes

* Width applies to all subsequent strokes
* Measured perpendicularly from path
* Affected by CTM at time of stroke (not at setlinewidth)
* Very fast parameter setting

=== Line Width Effects

.Visual comparison
[source]
----
Width 0:   ─────────
Width 1:   ━━━━━━━━━
Width 3:   ▬▬▬▬▬▬▬▬▬
Width 5:   ▓▓▓▓▓▓▓▓▓
----

=== See Also

* xref:../setlinecap.adoc[`setlinecap`] - Set line end style
* xref:../setlinejoin.adoc[`setlinejoin`] - Set corner style
* xref:../setdash.adoc[`setdash`] - Set dash pattern
* xref:../currentlinewidth.adoc[`currentlinewidth`] - Get current width
* Stroke operations (to be documented)