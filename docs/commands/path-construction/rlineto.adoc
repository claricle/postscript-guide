---
layout: default
title: rlineto
parent: Path Construction
grand_parent: Command Reference
nav_order: 4
---

== rlineto

Appends a straight line segment to the current path using relative coordinates.

=== Syntax

----
dx dy rlineto â†’ -
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 1
| `dy` (number - vertical displacement)

| 0
| `dx` (number - horizontal displacement)
|===

.After
[cols="1,3"]
|===
| Level | Object

| (empty)
| Stack cleared of operands
|===

=== Description

[`rlineto`](rlineto.adoc) (relative lineto) appends a straight line segment to the current path in the same manner as xref:lineto.adoc[`lineto`]. However, the number pair is interpreted as a displacement relative to the current point (x, y) rather than as an absolute coordinate. That is, [`rlineto`](rlineto.adoc) constructs a line from (x, y) to (x + dx, y + dy) and makes (x + dx, y + dy) the new current point.

If the current point is undefined because the current path is empty, [`rlineto`](rlineto.adoc) executes the [`nocurrentpoint`] error.

=== PostScript Level

*Level 1* and later

=== Examples

.Drawing a square
[source,postscript]
----
newpath
100 100 moveto
100 0 rlineto           % Right side
0 100 rlineto           % Top side
-100 0 rlineto          % Left side
closepath               % Bottom side
stroke
----

.Drawing a staircase pattern
[source,postscript]
----
newpath
50 50 moveto
5 {
  20 0 rlineto          % Step tread
  0 20 rlineto          % Step riser
} repeat
stroke
----

.Creating a zigzag
[source,postscript]
----
newpath
50 200 moveto
10 {
  20 30 rlineto
  20 -30 rlineto
} repeat
stroke
----

=== Common Use Cases

==== Drawing Regular Shapes

[source,postscript]
----
/drawPentagon {
  % Draws regular pentagon at current point
  /size exch def
  /angle 72 def
  gsave
  5 {
    size 0 rlineto
    angle rotate
  } repeat
  closepath
  grestore
} def

100 100 moveto
50 drawPentagon
----

==== Creating Relative Patterns

[source,postscript]
----
/zigzagLine {
  % width segments height
  /h exch def
  /n exch def
  /w exch def
  n {
    w 2 div h rlineto
    w 2 div h neg rlineto
  } repeat
} def

newpath
50 100 moveto
200 10 20 zigzagLine
stroke
----

==== Building Complex Paths Incrementally

[source,postscript]
----
/drawArrow {
  % length arrowhead-size
  /asize exch def
  /len exch def

  len 0 rlineto          % Shaft
  asize neg asize rlineto    % Upper barb
  asize asize neg rlineto    % Lower barb
} def

newpath
100 150 moveto
150 0 30 drawArrow
stroke
----

=== Common Pitfalls

WARNING: *Requires Current Point* - [`rlineto`](rlineto.adoc) requires an established current point. Use xref:moveto.adoc[`moveto`] first.

[source,postscript]
----
newpath
10 10 rlineto           % Error: nocurrentpoint
----

WARNING: *Displacements Not Absolute* - The arguments are relative displacements (dx, dy). Negative values move in opposite directions.

[source,postscript]
----
100 100 moveto
50 0 rlineto            % Moves to (150, 100)
-25 0 rlineto           % Moves to (125, 100), not (-25, 100)
----

TIP: *Ideal for Regular Patterns* - [`rlineto`](rlineto.adoc) excels at creating regular, repeating patterns where each segment relates to the previous one.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`limitcheck`]
| Path becomes too complex for implementation

| [`nocurrentpoint`]
| Current path is empty (no current point defined)

| [`stackunderflow`]
| Fewer than 2 operands on stack

| [`typecheck`]
| Operands are not numbers
|===

=== Implementation Notes

* Displacements are in user space, transformed by CTM
* More convenient than calculating absolute coordinates
* Equivalent to: `currentpoint transform dx dy add transform lineto`
* Successive [`rlineto`](rlineto.adoc) calls build polylines efficiently
* Negative displacements move backward or downward

=== Performance Considerations

* No performance difference from xref:lineto.adoc[`lineto`]
* Reduces calculation overhead in code
* More maintainable for relative patterns
* Can reduce rounding errors in repetitive patterns

=== See Also

* xref:lineto.adoc[`lineto`] - Absolute lineto
* xref:rmoveto.adoc[`rmoveto`] - Relative moveto
* xref:rcurveto.adoc[`rcurveto`] - Relative curveto
* xref:currentpoint.adoc[`currentpoint`] - Get current point
* xref:closepath.adoc[`closepath`] - Close current subpath