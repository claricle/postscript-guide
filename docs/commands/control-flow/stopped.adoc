---
layout: default
title: stopped
parent: Control Flow
grand_parent: Command Reference
nav_order: 8
---

== stopped

Executes an object with error catching capability.

=== Syntax

----
any stopped â†’ bool
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 0
| `any` (object to execute - typically procedure)
|===

.After (normal completion)
[cols="1,3"]
|===
| Level | Object

| (varies)
| Results from execution

| 0
| `false`
|===

.After (stopped)
[cols="1,3"]
|===
| Level | Object

| (varies)
| Partial results from execution

| 0
| `true`
|===

=== Description

link:stopped.adoc[`stopped`] executes _any_ (typically a procedure).

* If _any_ runs to completion normally: returns `false`
* If _any_ terminates via xref:stop.adoc[`stop`]: returns `true`

Regardless of outcome, execution resumes at the next object after link:stopped.adoc[`stopped`].

This provides PostScript's primary error-catching mechanism.

=== PostScript Level

*Level 1* and later

=== Examples

.Basic error catching
[source,postscript]
----
{
  % Code that might fail
  10 0 div
} stopped {
  % Error occurred
  (Division error caught) print
} if
----

.Normal completion
[source,postscript]
----
{
  1 2 add
} stopped
% Returns: 3 false (normal completion)
----

.Explicit stop
[source,postscript]
----
{
  errorCondition { stop } if
  normalCode
} stopped {
  (Stopped explicitly) print
} if
----

=== Common Use Cases

==== Error Handler Pattern

[source,postscript]
----
{
  % Main code
  riskyOperation
} stopped {
  % Error handler
  handleerror
} if
----

==== Try Multiple Methods

[source,postscript]
----
{
  % Try preferred method
  preferredMethod
} stopped {
  % Try fallback
  { fallbackMethod } stopped {
    % Last resort
    defaultMethod
  } if
} if
----

==== Resource Cleanup

[source,postscript]
----
file (r) file
{
  % Process file
  { processFile } stopped {
    file closefile  % Cleanup
    stop  % Re-raise error
  } if
} stopped {
  % Outer error handler
} if
file closefile  % Always close
----

=== Common Pitfalls

WARNING: *Catches All Errors* - link:stopped.adoc[`stopped`] catches ALL errors, including those you might not expect.

[source,postscript]
----
{
  typoError  % Undefined name
  realCode
} stopped pop
% Error silently caught!
----

WARNING: *Stack State* - Operand and dict stacks not automatically cleaned on stop.

[source,postscript]
----
{
  1 2 3
  stop
} stopped {
  % Stack still contains: 1 2 3
  clear  % Must clean up manually
} if
----

TIP: *Standard Error Pattern* - Default PostScript error handlers use this pattern.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`stackunderflow`]
| No operand on stack
|===

=== Implementation Notes

* Creates new execution context
* Execution stack level saved
* Operand/dictionary stacks not affected by unwinding
* PostScript's exception handling mechanism

=== Standard Error Handler

The default error handler uses link:stopped.adoc[`stopped`]:

[source,postscript]
----
% Simplified version
{
  % User code
} stopped {
  handleerror
} if
----

=== Advanced Pattern

.Nested error handling
[source,postscript]
----
{
  % Outer try
  {
    % Inner try
    criticalOperation
  } stopped {
    % Handle inner error
    recoverFromCritical
    stop  % Propagate to outer
  } if

  normalContinuation
} stopped {
  % Handle outer error
  finalRecovery
} if
----

=== See Also

* xref:stop.adoc[`stop`] - Terminate stopped context
* xref:exit.adoc[`exit`] - Exit loop
* xref:exec.adoc[`exec`] - Execute object
* Error Handling (to be documented)