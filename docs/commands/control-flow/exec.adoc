---
layout: default
title: exec
parent: Control Flow
grand_parent: Command Reference
nav_order: 10
---

== exec

Executes an object immediately.

=== Syntax

----
any exec → –
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 0
| `any` (object to execute)
|===

.After
[cols="1,3"]
|===
| Level | Object

| (varies)
| Results depend on object executed
|===

=== Description

[`exec`](exec.adoc) pushes the operand on the execution stack, executing it immediately.

The effect depends on the object's type and literal/executable attribute:

* **Literal objects**: Pushed back on operand stack
* **Executable arrays** (procedures): Elements executed sequentially
* **Executable names**: Looked up and executed
* **Operators**: Executed
* **Files/strings**: Interpreted as PostScript code

=== PostScript Level

*Level 1* and later

=== Examples

.Executing a string
[source,postscript]
----
(3 2 add) cvx exec  % Returns 5
----

.Executing a name
[source,postscript]
----
/add cvx exec  % Error: stackunderflow (no operands)
3 2 /add cvx exec  % Returns 5
----

.Executing a procedure
[source,postscript]
----
{ 1 2 add } exec  % Returns 3
----

.Literal vs. executable
[source,postscript]
----
/add exec       % Pushes /add (literal)
/add cvx exec   % Executes add operator
----

=== Common Use Cases

==== Dynamic Code Execution

[source,postscript]
----
/operation (add) def
operation cvn cvx exec  % Executes add
----

==== Executing Stored Procedures

[source,postscript]
----
/handlers 5 dict def
handlers /onClick { handleClick } put

/onClick handlers exch get exec
----

==== String Evaluation

[source,postscript]
----
(10 20 mul) cvx exec  % Evaluates string: 200
----

=== Common Pitfalls

WARNING: *Literal Objects Not Executed* - Literal objects are just pushed back.

[source,postscript]
----
123 exec       % Returns 123 (literal integer)
/name exec     % Returns /name (literal name)
{ code } cvlit exec  % Returns { code } (literal array)
----

WARNING: *Must Use cvx for Strings* - Strings must be executable to interpret as code.

[source,postscript]
----
(1 2 add) exec      % Pushes string (literal)
(1 2 add) cvx exec  % Evaluates: 3
----

WARNING: *Security Risk* - Executing arbitrary strings can be dangerous.

[source,postscript]
----
userInput cvx exec  % Dangerous if userInput malicious!
----

TIP: *Check Executable Attribute* - Use xref:../array-string/xcheck.adoc[`xcheck`] to verify before execution.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`stackunderflow`]
| No operand on stack

| (various)
| Depends on what is executed
|===

=== Implementation Notes

* Pushes object onto execution stack
* Interpreter then processes it normally
* No special overhead (same as normal execution)
* Can execute any PostScript object

=== Execution Behavior by Type

[cols="2,3,3"]
|===
| Object Type | Literal | Executable

| Integer/Real
| Pushed on stack
| Pushed on stack

| Boolean/Null
| Pushed on stack
| Pushed on stack

| String
| Pushed on stack
| Interpreted as code

| Name
| Pushed on stack
| Looked up and executed

| Array
| Pushed on stack
| Elements executed

| Operator
| Pushed on stack
| Executed

| Dictionary
| Pushed on stack
| Pushed on stack
|===

=== See Also

* xref:../array-string/cvx.adoc[`cvx`] - Convert to executable
* xref:../array-string/cvlit.adoc[`cvlit`] - Convert to literal
* xref:../array-string/xcheck.adoc[`xcheck`] - Check if executable
* xref:stopped.adoc[`stopped`] - Execute with error catching
* xref:if.adoc[`if`] / xref:ifelse.adoc[`ifelse`] - Conditional execution