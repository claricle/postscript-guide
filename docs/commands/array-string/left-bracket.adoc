---
layout: default
title: "["
parent: Array and String Operations
grand_parent: Command Reference
nav_order: 2
---

== [

Marks the beginning of array construction by pushing a mark on the operand stack.

=== Syntax

----
– [ → mark
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| (empty or any objects)
|
|===

.After
[cols="1,3"]
|===
| Level | Object

| 0
| `mark` (array construction marker)
|===

=== Description

The [`[`](left-bracket.adoc) operator pushes a special mark object on the operand stack to indicate the beginning of an array being constructed. It works in conjunction with [`]`](right-bracket.adoc), which collects all objects above the mark into an array.

This is the most common and convenient way to construct arrays with known contents. The [`[`](left-bracket.adoc) operator is actually equivalent to the xref:../stack-manipulation/mark.adoc[`mark`] operator, but its use with [`]`](right-bracket.adoc) gives it special significance for array construction.

=== PostScript Level

*Level 1* and later

=== Examples

.Simple array construction
[source,postscript]
----
[ 1 2 3 ]        % Creates array [1 2 3]
----

.Mixed-type array
[source,postscript]
----
[ 42 (hello) /name true ]  % Array with different types
----

.Nested arrays
[source,postscript]
----
[ 1 [ 2 3 ] 4 ]  % Array containing another array
% Result: [1 [2 3] 4]
----

.Empty array
[source,postscript]
----
[ ]              % Creates empty array []
----

.Complex expressions in arrays
[source,postscript]
----
[ 1 2 add 3 4 mul ]  % Expressions evaluated before array creation
% Result: [3 12]
----

=== Common Use Cases

==== Literal Data Structures

[source,postscript]
----
/colors [ /red /green /blue ] def
/coordinates [ 100 200 ] def
----

==== Procedure Arguments

[source,postscript]
----
[ 1 2 3 ] { 10 mul } forall  % Pass array to forall
----

==== Matrix Definitions

[source,postscript]
----
[ 1 0 0 1 0 0 ]  % Identity transformation matrix
----

=== Common Pitfalls

WARNING: *Unmatched Brackets* - Every [`[`](left-bracket.adoc) must have a corresponding [`]`](right-bracket.adoc). Unmatched brackets cause a [`syntaxerror`].

[source,postscript]
----
[ 1 2 3   % Missing ] causes syntaxerror
----

WARNING: *Execution vs. Literal* - Objects between [`[`](left-bracket.adoc) and [`]`](right-bracket.adoc) are evaluated before being placed in the array.

[source,postscript]
----
[ 1 2 add ]  % Results in [3], not [1 2 add]
----

TIP: *Literal Arrays* - The array created by [`[ ... ]`](left-bracket.adoc) has the literal attribute by default. Use xref:cvx.adoc[`cvx`] to make it executable if needed.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`stackoverflow`]
| Operand stack overflow when pushing mark

| [`syntaxerror`]
| No matching [`]`](right-bracket.adoc) before end of file/string
|===

=== Implementation Notes

* The mark object pushed by [`[`](left-bracket.adoc) is the same as that created by xref:../stack-manipulation/mark.adoc[`mark`]
* Marks are used for error recovery and can be detected with xref:../stack-manipulation/counttomark.adoc[`counttomark`]
* The interpreter treats `[` specially during scanning for array literal syntax

=== Relationship to mark

The [`[`](left-bracket.adoc) operator is functionally equivalent to xref:../stack-manipulation/mark.adoc[`mark`]:

[source,postscript]
----
mark 1 2 3 ]     % Same as [ 1 2 3 ]
[ 1 2 3          % Must be closed with ]
----

However, [`[`](left-bracket.adoc) and [`]`](right-bracket.adoc) provide clearer syntax for array construction.

=== See Also

* xref:right-bracket.adoc[`]`] - End array construction
* xref:../stack-manipulation/mark.adoc[`mark`] - Push mark object
* xref:../stack-manipulation/cleartomark.adoc[`cleartomark`] - Clear to mark
* xref:../stack-manipulation/counttomark.adoc[`counttomark`] - Count objects to mark
* xref:array.adoc[`array`] - Create uninitialized array
* xref:astore.adoc[`astore`] - Store stack into array