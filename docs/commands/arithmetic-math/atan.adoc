---
layout: default
title: atan
parent: Arithmetic and Math
grand_parent: Command Reference
nav_order: 19
---
= atan

Returns the angle in degrees whose tangent is num/den.

== Description

The `atan` operator pops two numbers (numerator and denominator) from the operand stack and pushes the angle (in degrees, 0-360) whose tangent is num/den. Either num or den may be zero, but not both. The signs of num and den determine the quadrant. The result is always a real number.

This is a Level 1 operator, available in all PostScript implementations.

== Syntax

[source,postscript]
----
num den atan angle
----

=== Stack Effect

.Before Execution
[cols="1,3"]
|===
|Position |Content

|Top
|`den` (integer or real) - Denominator

|Top-1
|`num` (integer or real) - Numerator
|===

.After Execution
[cols="1,3"]
|===
|Position |Content

|Top
|`angle` (real) - Arctangent in degrees (0-360)
|===

== Parameters

`num`:: Numerator of tangent ratio (integer or real)
`den`:: Denominator of tangent ratio (integer or real)

== Return Values

`angle`:: The angle in degrees (0-360) whose tangent is num/den (always real)

== Examples

=== Basic Usage

[source,postscript]
----
% Quadrant I (positive x, positive y)
1 1 atan       % → 45.0 (tan(45°) = 1)
1 0 atan       % → 90.0 (tan(90°) = ∞)

% Quadrant II (negative x, positive y)
1 -1 atan      % → 135.0

% Quadrant III (negative x, negative y)
-1 -1 atan     % → 225.0

% Quadrant IV (positive x, negative y)
-1 1 atan      % → 315.0

% Cardinal directions
0 1 atan       % → 0.0 (pointing right)
1 0 atan       % → 90.0 (pointing up)
0 -1 atan      % → 180.0 (pointing left)
-1 0 atan      % → 270.0 (pointing down)
----

WARNING: PostScript returns angles in *degrees* (0-360), not radians!

=== Calculating Angle Between Points

[source,postscript]
----
% Angle from point1 to point2
/angleTo {  % x1 y1 x2 y2 -> angle
    3 -1 roll sub  % x1 x2 (y2-y1)
    3 1 roll sub   % (y2-y1) (x2-x1)
    atan
} def

0 0 1 1 angleTo    % → 45.0
0 0 1 0 angleTo    % → 0.0
0 0 0 1 angleTo    % → 90.0
----

== Related Commands

* xref:sin.adoc[`sin`] - Sine (degrees)
* xref:cos.adoc[`cos`] - Cosine (degrees)

== PostScript Level

*Available in*: PostScript Level 1 and higher

== Error Conditions

`stackunderflow`::
The operand stack contains fewer than two elements.

`typecheck`::
One or both operands are not numbers.

`undefinedresult`::
Both num and den are zero.
+
[source,postscript]
----
0 0 atan       % ERROR: undefinedresult
----

== See Also

* xref:index.adoc[Arithmetic and Math] - All arithmetic operators

---

[.text-small]
_This page is part of the xref:../index.adoc[PostScript Language Reference Guide]._