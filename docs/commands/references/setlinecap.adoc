---
layout: default
title: setlinecap
parent: Command Reference
nav_order: 6
---

== setlinecap

Sets the line cap style for stroking operations.

=== Syntax

----
int setlinecap → –
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| 0
| `int` (0, 1, or 2)
|===

.After
[cols="1,3"]
|===
| Level | Object

| (empty)
| Line cap parameter set
|===

=== Description

link:/docs/commands/references/setlinecap/[`setlinecap`] sets the line cap parameter to _int_, which must be 0, 1, or 2. This controls the shape of line ends for open subpaths painted by [`stroke`].

**Cap styles:**
* **0** = Butt cap: squared off at endpoint (no projection)
* **1** = Round cap: semicircular arc with diameter = line width
* **2** = Projecting square cap: extends half line width beyond endpoint

=== PostScript Level

*Level 1* and later

=== Examples

.Different cap styles
[source,postscript]
----
5 setlinewidth

0 setlinecap  % Butt
0 10 moveto 100 10 lineto stroke

1 setlinecap  % Round
0 20 moveto 100 20 lineto stroke

2 setlinecap  % Square
0 30 moveto 100 30 lineto stroke
----

.Impact on short lines
[source,postscript]
----
10 setlinewidth

1 setlinecap
50 50 moveto 50 50 lineto stroke  % Draws circle

0 setlinecap
60 50 moveto 60 50 lineto stroke  % Draws nothing (zero-length)
----

=== Common Use Cases

==== Technical Drawing

[source,postscript]
----
0 setlinecap  % Butt - precise endpoints
0.5 setlinewidth
drawDiagram
----

==== Artistic Lines

[source,postscript]
----
1 setlinecap  % Round - smooth appearance
drawCurves
----

==== Dotted Lines

[source,postscript]
----
1 setlinecap  % Round caps for dots
[0 5] 0 setdash
stroke
----

=== Common Pitfalls

WARNING: *Affects Line Length* - Round and square caps extend beyond path endpoints.

[source,postscript]
----
10 setlinewidth
2 setlinecap  % Square
0 0 moveto 100 0 lineto stroke
% Line extends from -5 to 105 (not 0 to 100)
----

WARNING: *Closed Paths Unaffected* - Line caps only apply to open subpaths.

[source,postscript]
----
% Rectangle (closed path)
0 0 moveto 100 0 lineto 100 100 lineto 0 100 lineto closepath
2 setlinecap stroke  % Caps not visible (path closed)
----

TIP: *Use Round for Dots* - Round caps make perfect circles for zero-length lines.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`rangecheck`]
| _int_ not 0, 1, or 2

| [`stackunderflow`]
| No operand on stack

| [`typecheck`]
| Operand not an integer
|===

=== Line Cap Styles

.Visual comparison (10-unit width)
[source]
----
Butt (0):     ├─────────┤
Round (1):    (──────────)
Square (2):   [──────────]
----

=== Implementation Notes

* Default value: 0 (butt)
* Applies to all subsequent stroke operations
* Does not affect closed subpaths
* Fast parameter setting

=== See Also

* link:/docs/commands/references/setlinejoin/[`setlinejoin`] - Set corner style
* link:/docs/commands/references/setlinewidth/[`setlinewidth`] - Set line width
* link:/docs/commands/references/currentlinecap/[`currentlinecap`] - Get current cap
* Stroke operations (to be documented)