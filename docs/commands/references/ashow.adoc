---
layout: default
title: ashow
parent: Command Reference
nav_order: 9
---

== ashow

Show text with uniform character spacing adjustment.

=== Syntax

----
ax ay string ashow → -
----

=== Stack Effects

**Before:**
```
ax ay string
```

**After:**
```
(empty)
```

=== Description

link:/docs/commands/references/ashow/[`ashow`] paints the characters of `string` in a manner similar to link:/docs/commands/references/show/[`show`]. But while doing so, link:/docs/commands/references/ashow/[`ashow`] adjusts the width of each character shown by adding `ax` to the character's x width and `ay` to its y width, thus modifying the spacing between characters.

The numbers `ax` and `ay` are x and y displacements in the user coordinate system, not in the character coordinate system. This operator enables a string of text to be fitted to a specific width by adjusting all the spaces between characters by a uniform amount.

=== Parameters

**ax** (`number`)
: Amount to add to each character's x width

**ay** (`number`)
: Amount to add to each character's y width

**string** (`string`)
: The text to display

=== Examples

==== Wide Character Spacing

[source,postscript]
----
/Helvetica findfont 12 scalefont setfont

14 61 moveto (Normal spacing) show
14 47 moveto 4 0 (Wide spacing) ashow
----

==== Tight Character Spacing

[source,postscript]
----
/Helvetica findfont 12 scalefont setfont

100 700 moveto (Normal) show
100 685 moveto -1 0 (Tight) ashow  % Reduce spacing by 1 unit
----

==== Fitting Text to Width

[source,postscript]
----
/fitText {  % string targetWidth fitText -
  % Calculate adjustment needed
  1 index stringwidth pop  % Get current width
  1 index exch sub         % targetWidth - currentWidth
  2 index length 1 sub     % Number of spaces between chars
  div                      % Adjustment per space
  0 3 -1 roll ashow        % Apply adjustment
} def

(Hello World) 200 fitText
----

==== Vertical Spacing Adjustment

[source,postscript]
----
% Add vertical spacing (unusual but possible)
/Helvetica findfont 12 scalefont setfont
100 700 moveto
0 -2 (Descending text) ashow
% Each character shifts down by 2 units
----

=== Errors

**invalidaccess**
: Font or string has restricted access

**invalidfont**
: Current font is not valid

**nocurrentpoint**
: Current point is not defined before link:/docs/commands/references/ashow/[`ashow`]

**stackunderflow**
: Fewer than three operands on stack

**typecheck**
: `ax` or `ay` is not a number, or `string` is not a string

=== Width Calculation

For each character `c` in the string, the effective width becomes:

----
effectiveWidth(c) = characterWidth(c) + (ax, ay)
----

Total current point displacement:

----
totalDisplacement = Σ(characterWidth(c) + (ax, ay))
                  = Σ characterWidth(c) + n × (ax, ay)
----

where `n` is the string length.

=== Comparison with show

[source,postscript]
----
% These are equivalent:
100 100 moveto (ABC) show

100 100 moveto 0 0 (ABC) ashow  % Zero adjustment
----

=== Use Cases

==== Justified Text

[source,postscript]
----
/justifyLine {  % string lineWidth justifyLine -
  exch dup stringwidth pop     % Get current width
  3 -1 roll exch sub          % Calculate extra space
  1 index length 1 sub div    % Divide by num spaces
  0 exch 3 -1 roll ashow      % Apply uniform spacing
} def

(This text is justified) 400 justifyLine
----

==== Letter Spacing Control

[source,postscript]
----
% Loose letter spacing for headings
/Heading {
  /Helvetica-Bold findfont 18 scalefont setfont
  2 0 3 -1 roll ashow
} def

100 700 moveto (WIDE HEADING) Heading
----

==== Compensating for Transformations

[source,postscript]
----
% When CTM is scaled, adjust spacing
gsave
  2 1 scale         % Different x and y scale
  /Helvetica findfont 12 scalefont setfont
  100 100 moveto
  1 0 (Adjusted) ashow  % Compensate for scaling
grestore
----

=== Performance Notes

- link:/docs/commands/references/ashow/[`ashow`] is slightly slower than link:/docs/commands/references/show/[`show`] due to spacing calculations
- Character caching still applies
- For uniform spacing of all text, set once and use link:/docs/commands/references/show/[`show`]
- For spacing only specific characters, use link:/docs/commands/references/widthshow/[`widthshow`] instead

=== Advanced Usage

==== Dynamic Spacing Based on Content

[source,postscript]
----
/adaptiveShow {  % string adaptiveShow -
  dup length 10 lt {
    % Short strings: wide spacing
    3 0 3 -1 roll ashow
  } {
    % Long strings: normal spacing
    show
  } ifelse
} def

(Short) adaptiveShow
(This is a much longer string) adaptiveShow
----

=== See Also

- link:/docs/commands/references/show/[`show`] - Basic text painting
- link:/docs/commands/references/widthshow/[`widthshow`] - Adjust specific character width
- link:/docs/commands/references/awidthshow/[`awidthshow`] - Combine link:/docs/commands/references/ashow/[`ashow`] and link:/docs/commands/references/widthshow/[`widthshow`]
- link:/docs/commands/references/kshow/[`kshow`] - Show with kerning procedure
- link:/docs/commands/references/cshow/[`cshow`] - Show with procedure per character
- link:/docs/commands/references/stringwidth/[`stringwidth`] - Calculate text width
- `moveto` - Set current point