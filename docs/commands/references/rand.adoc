---
layout: default
title: rand
parent: Command Reference
nav_order: 21
---
= rand

Generates a pseudo-random integer.

== Description

The `rand` operator generates and returns a pseudo-random integer in the range 0 to 2³¹ - 1 (2147483647). The sequence is deterministic and can be controlled using link:/docs/commands/references/srand/[`srand`] to set the seed and link:/docs/commands/references/rrand/[`rrand`] to get/restore the generator state.

This is a Level 1 operator, available in all PostScript implementations.

== Syntax

[source,postscript]
----
- rand int
----

=== Stack Effect

.Before Execution
[cols="1,3"]
|===
|Position |Content

|
|_(no operands required)_
|===

.After Execution
[cols="1,3"]
|===
|Position |Content

|Top
|`int` (integer) - Random integer (0 to 2147483647)
|===

== Parameters

None. The `rand` operator takes no operands.

== Return Values

`int`:: A pseudo-random integer in the range [0, 2147483647]

== Examples

=== Basic Usage

[source,postscript]
----
% Generate random numbers
rand           % → 394857 (example)
rand           % → 1829374 (different each time)
rand           % → 829401
----

=== Random Range

[source,postscript]
----
% Generate random integer in range [0, n-1]
/randRange {  % n -> random
    rand exch mod
} def

10 randRange   % → 0-9
100 randRange  % → 0-99

% Generate random integer in range [min, max]
/randBetween {  % min max -> random
    1 index sub 1 add  % min (max-min+1)
    randRange add
} def

10 20 randBetween  % → 10-20
----

=== Random Real in [0, 1)

[source,postscript]
----
/randReal {  % -> real
    rand 2147483647.0 div
} def

randReal       % → 0.234567 (example)
randReal       % → 0.891234
----

== Advanced Examples

=== Shuffle Array

[source,postscript]
----
/shuffle {  % array -> array
    dup length 1 sub 0 exch {
        % array i
        dup 1 add randRange  % array i j
        2 copy eq {
            pop pop
        } {
            % Swap array[i] and array[j]
            2 index 2 copy get  % array i j array[j]
            4 index 3 index get % array i j array[j] array[i]
            5 index 4 index 3 -1 roll put
            4 index 3 index 3 -1 roll put
            pop pop
        } ifelse
    } for
} def
----

=== Reproducible Sequences

[source,postscript]
----
% Get reproducible random sequence
42 srand       % Seed with known value
rand           % → 1804289383 (always same)
rand           % → 846930886 (always same)

% Reset to same seed
42 srand
rand           % → 1804289383 (same sequence)
----

== Related Commands

* link:/docs/commands/references/srand/[`srand`] - Seed random generator
* link:/docs/commands/references/rrand/[`rrand`] - Get/set random seed

== PostScript Level

*Available in*: PostScript Level 1 and higher

== Error Conditions

`stackoverflow`::
The operand stack is full (cannot push result).

== See Also

* link:/docs/commands/references/[Arithmetic and Math] - All arithmetic operators