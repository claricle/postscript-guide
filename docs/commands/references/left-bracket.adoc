---
layout: default
title: "["
parent: Command Reference
nav_order: 2
---

== [

Marks the beginning of array construction by pushing a mark on the operand stack.

=== Syntax

----
– [ → mark
----

=== Stack Effects

.Before
[cols="1,3"]
|===
| Level | Object

| (empty or any objects)
|
|===

.After
[cols="1,3"]
|===
| Level | Object

| 0
| `mark` (array construction marker)
|===

=== Description

The link:/docs/commands/references/left-bracket/[`[`] operator pushes a special mark object on the operand stack to indicate the beginning of an array being constructed. It works in conjunction with link:/docs/commands/references/right-bracket/[`]`], which collects all objects above the mark into an array.

This is the most common and convenient way to construct arrays with known contents. The link:/docs/commands/references/left-bracket/[`[`] operator is actually equivalent to the link:/docs/commands/references/mark/[`mark`] operator, but its use with link:/docs/commands/references/right-bracket/[`]`] gives it special significance for array construction.

=== PostScript Level

*Level 1* and later

=== Examples

.Simple array construction
[source,postscript]
----
[ 1 2 3 ]        % Creates array [1 2 3]
----

.Mixed-type array
[source,postscript]
----
[ 42 (hello) /name true ]  % Array with different types
----

.Nested arrays
[source,postscript]
----
[ 1 [ 2 3 ] 4 ]  % Array containing another array
% Result: [1 [2 3] 4]
----

.Empty array
[source,postscript]
----
[ ]              % Creates empty array []
----

.Complex expressions in arrays
[source,postscript]
----
[ 1 2 add 3 4 mul ]  % Expressions evaluated before array creation
% Result: [3 12]
----

=== Common Use Cases

==== Literal Data Structures

[source,postscript]
----
/colors [ /red /green /blue ] def
/coordinates [ 100 200 ] def
----

==== Procedure Arguments

[source,postscript]
----
[ 1 2 3 ] { 10 mul } forall  % Pass array to forall
----

==== Matrix Definitions

[source,postscript]
----
[ 1 0 0 1 0 0 ]  % Identity transformation matrix
----

=== Common Pitfalls

WARNING: *Unmatched Brackets* - Every link:/docs/commands/references/left-bracket/[`[`] must have a corresponding link:/docs/commands/references/right-bracket/[`]`]. Unmatched brackets cause a [`syntaxerror`].

[source,postscript]
----
[ 1 2 3   % Missing ] causes syntaxerror
----

WARNING: *Execution vs. Literal* - Objects between link:/docs/commands/references/left-bracket/[`[`] and link:/docs/commands/references/right-bracket/[`]`] are evaluated before being placed in the array.

[source,postscript]
----
[ 1 2 add ]  % Results in [3], not [1 2 add]
----

TIP: *Literal Arrays* - The array created by link:/docs/commands/references/left-bracket/[`[ ... ]`] has the literal attribute by default. Use link:/docs/commands/references/cvx/[`cvx`] to make it executable if needed.

=== Error Conditions

[cols="1,3"]
|===
| Error | Condition

| [`stackoverflow`]
| Operand stack overflow when pushing mark

| [`syntaxerror`]
| No matching link:/docs/commands/references/right-bracket/[`]`] before end of file/string
|===

=== Implementation Notes

* The mark object pushed by link:/docs/commands/references/left-bracket/[`[`] is the same as that created by link:/docs/commands/references/mark/[`mark`]
* Marks are used for error recovery and can be detected with link:/docs/commands/references/counttomark/[`counttomark`]
* The interpreter treats `[` specially during scanning for array literal syntax

=== Relationship to mark

The link:/docs/commands/references/left-bracket/[`[`] operator is functionally equivalent to link:/docs/commands/references/mark/[`mark`]:

[source,postscript]
----
mark 1 2 3 ]     % Same as [ 1 2 3 ]
[ 1 2 3          % Must be closed with ]
----

However, link:/docs/commands/references/left-bracket/[`[`] and link:/docs/commands/references/right-bracket/[`]`] provide clearer syntax for array construction.

=== See Also

* link:/docs/commands/references/right-bracket/[`]`] - End array construction
* link:/docs/commands/references/mark/[`mark`] - Push mark object
* link:/docs/commands/references/cleartomark/[`cleartomark`] - Clear to mark
* link:/docs/commands/references/counttomark/[`counttomark`] - Count objects to mark
* link:/docs/commands/references/array/[`array`] - Create uninitialized array
* link:/docs/commands/references/astore/[`astore`] - Store stack into array