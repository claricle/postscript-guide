---
layout: default
title: Coordinate Transformations
parent: Commands
---

== Coordinate Transformations

Commands for coordinate system transformations and matrix operations.

=== Overview

The PostScript coordinate transformation system provides powerful tools for manipulating the coordinate space in which graphics are drawn. These commands fall into three main categories:

==== Basic Transformations

* link:/docs/commands/references/translate/[`translate`] - Move the origin
* link:/docs/commands/references/scale/[`scale`] - Change unit size
* link:/docs/commands/references/rotate/[`rotate`] - Rotate axes
* link:/docs/commands/references/concat/[`concat`] - Concatenate matrix with CTM

==== Matrix Operations

* link:/docs/commands/references/matrix/[`matrix`] - Create identity matrix
* link:/docs/commands/references/identmatrix/[`identmatrix`] - Replace matrix with identity
* link:/docs/commands/references/defaultmatrix/[`defaultmatrix`] - Get device default matrix
* link:/docs/commands/references/currentmatrix/[`currentmatrix`] - Get current transformation matrix
* link:/docs/commands/references/setmatrix/[`setmatrix`] - Replace CTM with matrix
* link:/docs/commands/references/initmatrix/[`initmatrix`] - Reset CTM to default
* link:/docs/commands/references/concatmatrix/[`concatmatrix`] - Multiply two matrices
* link:/docs/commands/references/invertmatrix/[`invertmatrix`] - Invert a matrix

==== Coordinate Transformations

* link:/docs/commands/references/transform/[`transform`] - Transform user→device coordinates
* link:/docs/commands/references/itransform/[`itransform`] - Transform device→user coordinates
* link:/docs/commands/references/dtransform/[`dtransform`] - Transform distance vector
* link:/docs/commands/references/idtransform/[`idtransform`] - Inverse transform distance vector

=== Transformation Matrix

PostScript uses a 6-element matrix to represent coordinate transformations:

----
[a b c d tx ty]
----

This matrix transforms coordinates according to:

----
x' = a×x + c×y + tx
y' = b×x + d×y + ty
----

Where:

* `a`, `d` - Scaling factors in x and y
* `b`, `c` - Rotation/skewing components
* `tx`, `ty` - Translation components

The identity matrix is `[1 0 0 1 0 0]`.

=== Current Transformation Matrix (CTM)

The CTM maps user space coordinates to device space coordinates. It is part of the graphics state and is affected by:

* link:/docs/commands/references/gsave/[`gsave`] and link:/docs/commands/references/grestore/[`grestore`]
* Basic transformation commands
* link:/docs/commands/references/setmatrix/[`setmatrix`]

=== Common Operations

==== Centering Content

[source,postscript]
----
% Center a 100x100 square on page
306 396 translate  % Move to center of letter page
-50 -50 translate  % Move back by half size
----

==== Scaling and Rotation

[source,postscript]
----
% Scale by 2 and rotate 45 degrees
2 2 scale
45 rotate
----

==== Saving Transformations

[source,postscript]
----
gsave
  % Temporary transformations
  100 100 translate
  2 2 scale
  % Draw transformed content
grestore
% Original CTM restored
----

=== Status

Complete documentation for all transformation commands.
